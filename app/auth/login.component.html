<script type="text/javascript"> document.getElementById('inputEmail').focus(); </script>

<div class="loginWrapper" ng-init="checkAccess()">
	<div id="content" class="margin-none">

		<h3 class="innerAll margin-none border-bottom text-center"><i class="fa fa-lock"></i>{{ 'LOGIN.TITLE' | getText }}</h3>

		<div class="login spacing-x2 col-md-12" style="position:relative">
			<div class="text-center"><img src="/app/_images/logo.png" alt="logo sirdata" style="padding:10px"></div>

			<div class="col-md-6 col-md-offset-3">
				<div class="panel panel-default">
					<alert-msg></alert-msg>

					<div class="panel-body innerAll">

						<form name="form" #myForm="ngForm">

							<div class="form-group" [class.has-error]="email.errors && !email.pristine">
								<label for="inputEmail">{{ 'FORM_FIELD.EMAIL' | getText }}</label>
								<input type="email" id="inputEmail" class="form-control input-lg" name="email" #email="ngModel" required
								       [(ngModel)]="credentials.email" pattern="[a-zA-Z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}">
							</div>
							<div class="form-group" [class.has-error]="password.errors && !password.pristine">
								<label for="inputPsw">{{ 'FORM_FIELD.PSW' | getText }}</label>
								<input type="password" id="inputPsw" class="form-control input-lg" name="psw" #password="ngModel"
								       [(ngModel)]="credentials.password" minlength="4" maxlength="12" required>
							</div>

							<div class="checkbox">
								<!--Afficher le contrat EN et FR -->
								<label for="inputCGU">{{ 'TAGS.AGREE' | getText }}
									<a [href]="pathContract" target="_blank">{{ 'TAGS.TERMS' | getText }}</a>
									<input type="checkbox" id="inputCGU" name="cgu" required
									       [(ngModel)]="cgu" ng-true-value='true' ng-false-value='false'>
								</label>
							</div>

							<button id="buttonLogin" class="btn btn-primary btn-block btn-lg" (click)="login()"
							        [disabled]="loading || myForm.form.pristine || !myForm.form.valid">{{ 'LOGIN.LOGIN_BTN' | getText }}
							</button>
							<!--<div id="countdown" class="well center no-margin"><h3 id="clock"></h3></div>-->
						</form>

					</div>
				</div>
			</div>

			<!--<div class="col-md-6 col-md-offset-3 text-center" style="position:relative">
				<a routerLink="['/signup]" class="btn btn-link btn-lg">
					<i class="fa fa-pencil"></i> &nbsp; {{ 'LOGIN.SIGNUP_TITLE' | getText }}</a>
				<br/><br/>
				<a routerLink="['/reset-password']" style="color:#000000;font-style:italic">{{ 'LOGIN.FORGOT_PSW' | getText }}</a>
			</div>-->
		</div>
	</div>
</div>
